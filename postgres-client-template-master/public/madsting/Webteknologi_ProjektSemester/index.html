<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="d3.js"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bar :)</title>
    <style>
    body {
        font-family: "Arial", sans-serif;
    }
    
    .axis {
        font-size: 15px;
    }
    
    .axis path,
    .axis line {
        fill: none;
        display: none;
    }
    
    .label {
        font-size: 13px;
        fill:whitesmoke
    }
</style>
</head>
<body>
    <!-- Create a div where the graph will take place -->
<div id="dinmor"></div>
</body>
<script>
    d3.json("api/Temperatur", {method: "GET",
    }).then(function(response){
        //SKRIV KODEN HER CUNT

var dataset = response.data;
function dataForLooper(start,length,datasetFrom){
var datasetAddTo = []
for (let i = start; i < length; i++) {
    datasetAddTo.push(datasetFrom[i]);
}
return datasetAddTo;
}
var data1 = dataForLooper(40,44,dataset); 
var data2 = dataForLooper(240,244,dataset);
var data3 = dataForLooper(260,264,dataset);
var data4 = dataForLooper(68,72,dataset)
//Esbjerg = data1
//Nyborg = data2
//Randers = data3
//Frederikshavn = data4

/*var data4 = [] - ALT HER KAN BRUGES TIL AT FINDE ET DATASET!
//for (let i = 68; i < 72; i++) {
//   data4.push(dataset[i])
//console.table(data4)
} - ALT HER KAN BRUGES TIL AT FINDE ET DATASET!*/
var svg = d3.select("body")
.append("svg")
.attr("height", 600)
.attr("width", 600);


var bars = svg.selectAll("rect")
        .data(data1)
        .enter()
        .append("rect")
        .attr("height", function(d, i){
            console.log(d.temp);
            return 20;
           // return 100 + (i * 10) + 10 * i;
        })
        .attr("width", function(d){
            return d.temp * 30
        })
        .attr("x", 55)
            
        .attr("y",function(d,i){
            return 30 + (i * 30) + 5 * i;})
        .attr("fill", "green")
        
        //Viser grader foran barene :)
        var datatext = [1,2,3,4];
        svg.selectAll("text")
        .data(datatext)
        .enter()
        .append("text")
        .attr("x", 5)
        .attr("y",function(d,i){
            return 45 + (i * 30) + 5 * i;})
        .text(function (d,i) {
                return data1[i].temp +"°";
        });

        //ALT HERFRA ER ET GÆT?



//HER SLUTTER KODEN CUNT
//console.log(response.data) //Viser al data (396 Arrays)
//console.log(response.data[0].temp) //Viser første temp
//console.log(response.data[1].temp) //Viser anden temp
//console.log(response.data[2].temp) //Viser tredje temp
//console.log(response.data[3].temp) //Viser fjerde temp
    })
</script>
</html>