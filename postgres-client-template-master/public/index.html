<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <script src="scripts/d3.js"></script>
  <title>Postgres node.js template med d3.js</title>
 
</head>

<body>
  <h1>Postgres node.js template med d3.js med noget kage</h1>

  <script>

    /*    
    var svg = d3.select("body")
              .append("svg")
              .attr("width",400)
              .attr("height",400);
    
              var gg = [{storby: "aarhusYY", start: 20, slut: 30,temp: "12"},
              {storby: "grenaa", start: 25, slut: 34,temp: "7"},
              {storby: "slikle", start: 12, slut: 42,temp: "3"},
              {storby: "yyy", start: 2, slut: 50,temp: "5"},
              {storby: "dfsw", start: 2, slut: 50,temp: "5"}]
    svg.selectAll("text")
      .data(gg)
      .enter()
      .append("text")
      .attr("x", 200)
      .attr("y",function(d,i){
        return 300 + 20 * i;
      })
      .text(function(d,i){
        return "Sejt: " + d.storby;
      });
*/


    d3.json("/api/dmi_klimafremtid_danmark", { method: "POST",
    }).then(function(response){
              var dataset = response.data;
              console.log(dataset);
      var svg = d3.select("body")
                .append("svg")
                .attr("height",400)
                .attr("width",400);
      


      svg.selectAll("text")
          .data(dataset)
          .enter()
          .append("text")
          .attr("x", 200)
          .attr("y", function(d,i){
            return 50 + i * 20;
          })
          .text(function(d){
            return d.storby;
          });


       
    })
 

    

  
  </script>
</body>
</html>