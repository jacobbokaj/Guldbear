<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <script src="d3.js"></script>
  <title>Postgres node.js template med d3.js</title>
 
</head>

<body>
  <h1>Postgres node.js template med d3.js med noget kage</h1>
  <div id="my_dataviz"></div>
  <script>
  //22
    /*
    var responsedata;
    var dataset = [[]];


    function dataForLooper(start,length,datasetFrom) {


      var datasetAddTo = []
      for (let i = start; i < length; i++) {
        datasetAddTo.push(datasetFrom[i]);      
      }
      return datasetAddTo;
    }
  //  var gg = [aarhus][2040]

    for (let y = 0; y < 99; y++) {
      dataset.push([[i]])
      
      for (let x = 0; x < 4; x++) {
        dataset[i].push(dataForLooper(y,x +1,responsedata))
        
      }  
      
    }

    var data1 = dataForLooper(40,44,dataset); */
    /*    
    var svg = d3.select("body")
              .append("svg")
              .attr("width",400)
              .attr("height",400);
    
              var gg = [{storby: "aarhusYY", start: 20, slut: 30,temp: "12"},
              {storby: "grenaa", start: 25, slut: 34,temp: "7"},
              {storby: "slikle", start: 12, slut: 42,temp: "3"},
              {storby: "yyy", start: 2, slut: 50,temp: "5"},
              {storby: "dfsw", start: 2, slut: 50,temp: "5"}]
    svg.selectAll("text")
      .data(gg)
      .enter()
      .append("text")
      .attr("x", 200)
      .attr("y",function(d,i){
        return 300 + 20 * i;
      })
      .text(function(d,i){
        return "Sejt: " + d.storby;
      });
      h
*/
/*

    d3.json("/api/dmi_klimafremtid_danmark", { method: "GET",
    }).then(function(response){
              var dataset = response.data;
              console.log(dataset);
      var svg = d3.select("body")
                .append("svg")
                .attr("height",400)
                .attr("width",400);
      


      svg.selectAll("text")
          .data(dataset)
          .enter()
          .append("text")
          .attr("x", 200)
          .attr("y", function(d,i){
            return 50 + i * 20;
          })
          .text(function(d){
            return d.storby;
          });     
    })
 */





    d3.json("api/dmi_danmark_temp_interpolation", {method: "GET",
  }).then(function(response){



    


    const dataset = response.data;
    var byData = [];

    for (let i = 0; i < dataset.length; i++) {
      byData.push(dataset[i].by);  
    }
    for (let x = 0; x < byData.length; x++) {
      console.table(byData[i]);  
    }
    


    var svg = d3.select("body")
    .append("svg")
        .attr("height",400)
        .attr("width","100%");
        
        var dataset = response.data;
        
        /*
      
        var bar = svg.selectAll("rect")
                    .data(dataset)
                    .enter()
                    .append("rect")
                    .attr("height",function(d){
                        
                      console.log(d);
                        return d.temp_procent * 50;
                    })
                    .attr("width",15)
                    .attr("x",function(d,i){
                        return 30 + (i * 15) + 5 * i;
                    })
                    .attr("y",40);*/
})
                  
    


  </script>
</body>
</html>